<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Calculator</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
  <header>
    <div class="title">
      <h1>Ultimate Calculator</h1>
      <p>Advanced math, graphing, formulas, and homework mode.</p>
    </div>
    <button id="settingsBtn">Settings</button>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="calc">Calculator</button>
    <button class="tab" data-tab="graph">Graph</button>
    <button class="tab" data-tab="formulas">Formulas</button>
    <button class="tab" data-tab="changelog">Changelog</button>
  </nav>

  <main>
    <section id="calc" class="tabContent active">
      <div class="screen">
        <div id="subdisplay"></div>
        <div id="display">0</div>
      </div>

      <div class="inputArea">
        <input id="expr" placeholder="Type equation like: 2+2 or sin(30) + sqrt(9)">
        <button id="eval">Calculate</button>
      </div>

      <div class="grid" id="buttons">
        <!-- Buttons auto-generated by JS -->
      </div>

      <div class="panel">
        <h3>History</h3>
        <textarea id="history" readonly></textarea>
      </div>
    </section>

    <section id="graph" class="tabContent">
      <div class="panel">
        <h3>Graphing</h3>
        <input id="graphExpr" placeholder="Type function like: sin(x) or x^2 - 4">
        <button id="graphBtn">Graph</button>
        <button id="clearGraph">Clear</button>
        <div class="graph">
          <canvas id="graphCanvas"></canvas>
        </div>
        <p class="help">Tip: Use "x" variable. Example: sin(x) or x^2.</p>
      </div>
    </section>

    <section id="formulas" class="tabContent">
      <div class="panel">
        <h3>Formula Library</h3>
        <div class="formulaList" id="formulaList"></div>
      </div>
    </section>

    <section id="changelog" class="tabContent">
      <div class="panel">
        <h3>Update Log</h3>
        <div id="log"></div>
      </div>
    </section>
  </main>

  <div id="settingsModal" class="modal">
    <div class="modalContent">
      <h3>Settings</h3>
      <button id="toggleTheme">Toggle Theme</button>
      <button id="closeSettings">Close</button>
      <div class="helpText">
        <h4>Button Guide</h4>
        <p><b>sin/cos/tan</b> = Trig functions (use degrees)</p>
        <p><b>log</b> = log base 10</p>
        <p><b>ln</b> = natural log (base e)</p>
        <p><b>^</b> = exponent</p>
        <p><b>sqrt</b> = square root</p>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/mathjs@11.8.0/lib/browser/math.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="app.js"></script>
</body>
</html>
